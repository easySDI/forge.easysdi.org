{"issue":{"id":1460,"project":{"id":16,"name":"easySDI"},"tracker":{"id":3,"name":"Enhancement"},"status":{"id":10,"name":"Closed"},"priority":{"id":4,"name":"Normal"},"author":{"id":383,"name":"Blatti Yves"},"assigned_to":{"id":383,"name":"Blatti Yves"},"category":{"id":33,"name":"EXTRACT"},"fixed_version":{"id":191,"name":"4.5.1"},"subject":"Cancel plugin","description":"*Description*\r\n\r\n* New task plugin\r\n* When executing the task:\r\n** The task changes the element to \"rejected\" (rejected = true)\r\n** The task defines the remark with the one configured in the interface (called \"Reason for cancellation\" in the interface)\r\n** If a remark is present before the cancellation step, it is overwritten by the reason for the cancellation\r\n* Example of use: to cancel an out-of-area element\r\n** 1) Create a new treatment, give it a name (e. g. \"Direct cancellation\")\r\n** 2) Add the cancellation plugin (often, the cancellation plugin will be the only one in the process)\r\n** 3) Define the Reason for cancellation: \"Sorry, we don't have any data on this area\"\r\n** 4) Add a rule that points to this treatment, for example, geographical rule \"If the perimeter is outside the area\".\r\n@perimeter disjoint POLYGON((6.82 46.82 46.39,6.92 46.39,6.92 46.19,6.92 46.19,6.92 46.19,6.82 46.39))@\r\n** 5) Place this rule at the top, so that it matches first if necessary\r\n** From now on, any out-of-area orders will be cancelled with the Reason for cancellation defined in the interface as follows\r\n\r\n*Configuration interface*\r\n\r\n* Plugin name in French: Annulation\r\n* Description in the drag/dropper block: \"Cancels processing and defines the remark for the customer\" / \"Annule le traitement et d\u00e9finit la remarque pour le client\"\r\n* Icon class: \"fa-ban\"\r\n* Settings :\r\n** \"Reason for cancellation\", type: textarea, mandatory\r\n* Help message (tooltip)\r\n** \"This plugin allows you to cancel the processing of an element and define the reason for the cancellation in the remark to the customer.\r\n   If a remark exists it will be overwritten by the reason for the cancellation.\"\r\n** \"Ce plugin permet d'annuler le traitement d'un \u00e9l\u00e9ment et de d\u00e9finit inscrit la raison de l'annulation dans la remarque au client.\r\nSi une remarque existe elle sera \u00e9cras\u00e9e par la raison de l'annulation.\"\r\n\r\n*Models*\r\n\r\nNew drag dropper block + block in the processing process:\r\n\r\n!16683-plugin-annulation-full.png!\r\n\r\nHelp tooltip:\r\n\r\n!16683-plugin-annulation-tooltip.png!\r\n\r\nSource : https://projets.asitvd.ch/issues/16683","start_date":"2018-11-20","done_ratio":100,"custom_fields":[{"id":3,"name":"Sponsor","multiple":true,"value":[]},{"id":4,"name":"Functional impact","value":"New task plugin.\r\nThis plugin automatically cancels an element when executed."},{"id":5,"name":"Ergonomic impact","value":"(See mockups)"}],"created_on":"2018-11-20T14:27:47Z","updated_on":"2019-03-18T14:58:29Z","closed_on":"2019-03-18T14:58:29Z","journals":[{"id":8414,"user":{"id":383,"name":"Blatti Yves"},"created_on":"2019-03-14T13:16:09Z","details":[{"property":"attr","name":"status_id","old_value":"7","new_value":"9"}]},{"id":8426,"user":{"id":383,"name":"Blatti Yves"},"created_on":"2019-03-18T07:55:52Z","details":[{"property":"attr","name":"status_id","old_value":"9","new_value":"2"}]},{"id":8436,"user":{"id":383,"name":"Blatti Yves"},"created_on":"2019-03-18T07:56:25Z","details":[{"property":"attr","name":"assigned_to_id","old_value":"762","new_value":"383"}]},{"id":8446,"user":{"id":383,"name":"Blatti Yves"},"created_on":"2019-03-18T07:57:03Z","details":[{"property":"attr","name":"status_id","old_value":"2","new_value":"3"}]},{"id":8457,"user":{"id":383,"name":"Blatti Yves"},"created_on":"2019-03-18T07:57:56Z","details":[{"property":"attr","name":"status_id","old_value":"3","new_value":"12"}]},{"id":8471,"user":{"id":383,"name":"Blatti Yves"},"created_on":"2019-03-18T11:06:22Z","details":[{"property":"attr","name":"done_ratio","old_value":"0","new_value":"100"}]},{"id":8486,"user":{"id":383,"name":"Blatti Yves"},"created_on":"2019-03-18T14:58:29Z","details":[{"property":"attr","name":"status_id","old_value":"12","new_value":"10"}]}]}}