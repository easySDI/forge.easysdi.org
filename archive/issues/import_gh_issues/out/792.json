{"issue":{"id":792,"project":{"id":16,"name":"easySDI"},"tracker":{"id":1,"name":"Defect"},"status":{"id":10,"name":"Closed"},"priority":{"id":4,"name":"Normal"},"author":{"id":383,"name":"Blatti Yves"},"category":{"id":16,"name":"MAP"},"fixed_version":{"id":172,"name":"4.3.0"},"subject":"MAP CSS problem in basket","description":"In basket, the map is not correctly styled with gxp extensions (it uses the default openlayer style for some elements) see screenshot.\r\n\r\nIt seems that the problem comes from openlayers loading the @/administrator/components/com_easysdi_core/libraries/OpenLayers-2.13.1/theme/default/style.css@ \r\nafter \r\n@/administrator/components/com_easysdi_core/libraries/openlayers/theme/default/style.css@\r\nand \r\n@/administrator/components/com_easysdi_core/libraries/gxp/theme/all.css@\r\n(in that order, because all.css overrides some OL classes)\r\n\r\nI tried this with our template, and with protostar, no change.\r\nI cannot see this problem on si-17.\r\nI cannot say if it has been introduced recently, because we didn't have a functional MAP before. (Bur recent OL changes may be the cause)\r\n\r\n\r\n\r\n","start_date":"2014-08-05","done_ratio":100,"custom_fields":[{"id":2,"name":"Affected version","value":"159"}],"created_on":"2014-08-05T11:35:23Z","updated_on":"2015-09-18T15:15:48Z","closed_on":"2015-03-06T14:39:42Z","journals":[{"id":4507,"user":{"id":3,"name":"Magoni Bruno"},"created_on":"2014-12-12T16:06:25Z","details":[{"property":"cf","name":"2","old_value":"155","new_value":"159"}]},{"id":4716,"user":{"id":383,"name":"Blatti Yves"},"notes":"Since Openlayers libraries have been changed changed (OL 2.13), we have to change CSS path in MAP helper.\r\nOtherwise Openlayers loads CSS on it's own, after GXP theme, and overwrites it.\r\n\r\n\r\nIn: \\components\\com_easysdi_map\\helpers\\easysdi_map.php line 37:\r\nreplace \r\n<pre>\r\n$doc->addStyleSheet($base_url . '/openlayers/theme/default/style.css');\r\n</pre>\r\n\r\nby\r\n\r\n<pre>\r\n$doc->addStyleSheet($base_url . '/OpenLayers-2.13.1/theme/default/style.css');\r\n</pre>","created_on":"2015-02-23T12:25:44Z","details":[{"property":"attr","name":"status_id","old_value":"1","new_value":"2"},{"property":"attr","name":"assigned_to_id","new_value":"23"}]},{"id":4721,"user":{"id":23,"name":"Van Hoecke H\u00e9l\u00e8ne "},"notes":"","created_on":"2015-02-23T14:30:48Z","details":[{"property":"attr","name":"status_id","old_value":"2","new_value":"3"},{"property":"attr","name":"fixed_version_id","new_value":"168"}]},{"id":4805,"user":{"id":3,"name":"Magoni Bruno"},"created_on":"2015-03-04T15:48:02Z","details":[{"property":"attr","name":"fixed_version_id","old_value":"168","new_value":"172"}]},{"id":4921,"user":{"id":23,"name":"Van Hoecke H\u00e9l\u00e8ne "},"notes":"","created_on":"2015-03-06T14:39:42Z","details":[{"property":"attr","name":"status_id","old_value":"3","new_value":"10"},{"property":"attr","name":"done_ratio","old_value":"0","new_value":"100"}]},{"id":6256,"user":{"id":23,"name":"Van Hoecke H\u00e9l\u00e8ne "},"created_on":"2015-09-18T15:15:48Z","details":[{"property":"attr","name":"assigned_to_id","old_value":"23"}]}]}}