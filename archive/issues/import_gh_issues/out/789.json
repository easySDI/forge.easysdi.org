{"issue":{"id":789,"project":{"id":16,"name":"easySDI"},"tracker":{"id":2,"name":"Feature"},"status":{"id":10,"name":"Closed"},"priority":{"id":4,"name":"Normal"},"author":{"id":383,"name":"Blatti Yves"},"category":{"id":17,"name":"CATALOG"},"fixed_version":{"id":172,"name":"4.3.0"},"subject":"Catalog Search : use GET instead of POST (like in v2)","description":"Is there a reason easySDI Catalog Search Form use POST form instead of GET ?\r\nV2 Catalog was in GET.\r\n\r\nThat allows us to:\r\n- share results page by URL\r\n- create search results page dynamically (pre-setting some fields) \r\nPlus it avoid \"re-POST\" confirmations in browsers.\r\n\r\nAny reason not using GET method ?","done_ratio":100,"custom_fields":[{"id":3,"name":"Sponsor","multiple":true,"value":[]},{"id":4,"name":"Functional impact"},{"id":5,"name":"Ergonomic impact"}],"created_on":"2014-07-30T11:18:07Z","updated_on":"2015-09-18T15:17:00Z","closed_on":"2015-03-06T13:55:17Z","journals":[{"id":3986,"user":{"id":383,"name":"Blatti Yves"},"notes":"I have tested it, the modifications are very light:\r\n- URI parameters have to be set in hidden fields\r\n- form method has to changed to GET\r\n\r\nNote: in any cases, it's only the initial search (\"button click\") that is made using POST method, when you browse next pages of catalog, GET is already used.","created_on":"2014-08-13T12:52:33Z","details":[]},{"id":3987,"user":{"id":383,"name":"Blatti Yves"},"notes":"The only downside I see is GET URL size limitation.\r\nRFC 2616 doesn't limit the length of URI:\r\n<pre>\r\n[...]\r\nThe HTTP protocol does not place any a priori limit on the length of a URI.\r\n[...]\r\n</pre>\r\n\r\nSo limitation comes from browsers and servers:\r\nLike always, Internet Explorer is the worst! (UP to version 10): 2083 Bytes. (http://support.microsoft.com/kb/208427)\r\n\r\nFor information, others software limitations are:\r\nBrowsers:\r\n >100 KB for Firefox, Chrome and Safari\r\n >200 KB for Opera\r\nServers:\r\n 128 KB for Apache (Default is 8KB)\r\n 16 MB for IIS (Default is 16KB)\r\n\r\n\r\nIf look a the IE restriction of 2083B , that allows us to send a request with some text fields, booleans, etc + dozens of values of multi-lists (small when with db ids, or big like 36B guid, for organisms in example)\r\n\r\nI made a test on our search form, just under IE limit, with:\r\n- 2 text fields (with 20+ chars, one is CSW)\r\n- 1 bool\r\n- 20 elements of mlist (small ids = 4 chars)\r\n- 20 elements of mlist (guids = 36 chars)\r\n\r\nSo what do we do? Do we plan using gigantic search forms?","created_on":"2014-08-13T13:22:07Z","details":[]},{"id":3988,"user":{"id":383,"name":"Blatti Yves"},"notes":"One more remark: if we choose to keep POST method, we'll have to adapt the pagination system to also use POST, or create some more logic... (searchfields in serverside session , etc..)","created_on":"2014-08-13T13:38:52Z","details":[]},{"id":3989,"user":{"id":383,"name":"Blatti Yves"},"notes":"If we choose the GET method (which is my favorite, despites of the downside of my dear fried IE ), here is the tested code:\r\n\r\ncomponents\\com_easysdi_catalog\\views\\catalog\\tmpl\\default.php:L46\r\n\r\n<pre>\r\n<code class=\"php\">\r\n<form class=\"form-horizontal form-validate sdi-catalog-fe-search\" action=\"<?php echo JRoute::_('index.php?option=com_easysdi_catalog' ); ?>#results\" method=\"get\" id=\"searchform\" name=\"searchform\" enctype=\"multipart/form-data\">\r\n    <?php \r\n    $tmpl = JFactory::getApplication()->input->get('tmpl', null, 'string');\r\n    if(isset($tmpl)):?>\r\n    <input type=\"hidden\" name=\"tmpl\" id=\"tmpl\" value=\"<?php echo $tmpl ; ?>\"/>\r\n    <?php endif; ?>\r\n    <input type=\"hidden\" name=\"view\" id=\"view\" value=\"catalog\"/>\r\n    <input type=\"hidden\" name=\"search\" id=\"search\" value=\"true\"/>\r\n    <input type=\"hidden\" name=\"id\" id=\"id\" value=\"<?php echo $this->item->id; ?>\"/>\r\n    <input type=\"hidden\" name=\"preview\" id=\"preview\" value=\"<?php echo $this->preview ; ?>\"/>\r\n    <div class=\"catalog front-end-edit\">\r\n</code>\r\n</pre>","created_on":"2014-08-13T13:42:47Z","details":[]},{"id":4089,"user":{"id":383,"name":"Blatti Yves"},"notes":"","created_on":"2014-09-05T08:17:47Z","details":[{"property":"attr","name":"status_id","old_value":"1","new_value":"7"}]},{"id":4090,"user":{"id":383,"name":"Blatti Yves"},"notes":"","created_on":"2014-09-05T08:18:36Z","details":[{"property":"relation","name":"relates","new_value":"798"}]},{"id":4092,"user":{"id":383,"name":"Blatti Yves"},"notes":"","created_on":"2014-09-05T08:18:57Z","details":[{"property":"attr","name":"status_id","old_value":"7","new_value":"11"}]},{"id":4099,"user":{"id":383,"name":"Blatti Yves"},"notes":"Technical Committee stated that changing from POST to GET can easily be done.\r\n\r\nBut limitation from GET URL size must be kept in mind, and the problem might emerge for certain users.\r\n\r\nPlan is:\r\n\r\n* Implement GET instead of POST now\r\n* If needed in the future:\r\n** Fully implement POST:\r\n*** in search form\r\n*** in pagination links\r\n*** make it optional in backend (GET or POST)\r\n\r\nAttention: linked to #798 because changing to GET will break HTML anchor auto scroll system.","created_on":"2014-09-05T09:40:52Z","details":[]},{"id":4161,"user":{"id":9,"name":"M\u00e9rour Xavier"},"notes":"+1 for me","created_on":"2014-10-07T09:59:30Z","details":[]},{"id":4163,"user":{"id":11,"name":"Plainecassagne Laurent"},"notes":"+1","created_on":"2014-10-07T10:00:06Z","details":[]},{"id":4164,"user":{"id":3,"name":"Magoni Bruno"},"notes":"+1","created_on":"2014-10-07T10:00:16Z","details":[]},{"id":4165,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2014-10-07T10:00:38Z","details":[{"property":"attr","name":"status_id","old_value":"11","new_value":"9"}]},{"id":4287,"user":{"id":383,"name":"Blatti Yves"},"notes":"","created_on":"2014-11-04T13:01:26Z","details":[{"property":"attr","name":"status_id","old_value":"9","new_value":"2"},{"property":"attr","name":"assigned_to_id","new_value":"383"}]},{"id":4289,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2014-11-05T07:31:59Z","details":[{"property":"attr","name":"fixed_version_id","old_value":"114","new_value":"158"}]},{"id":4328,"user":{"id":383,"name":"Blatti Yves"},"notes":"Merged in 4.3.x\r\n#798 is still to be done","created_on":"2014-11-14T12:24:45Z","details":[{"property":"attr","name":"status_id","old_value":"2","new_value":"3"},{"property":"attr","name":"done_ratio","old_value":"0","new_value":"100"}]},{"id":4794,"user":{"id":3,"name":"Magoni Bruno"},"created_on":"2015-03-04T15:38:01Z","details":[{"property":"attr","name":"fixed_version_id","old_value":"158","new_value":"172"}]},{"id":4906,"user":{"id":787,"name":"Villemagne J\u00e9r\u00f4me"},"notes":"","created_on":"2015-03-06T13:55:17Z","details":[{"property":"attr","name":"status_id","old_value":"3","new_value":"10"}]},{"id":6315,"user":{"id":23,"name":"Van Hoecke H\u00e9l\u00e8ne "},"created_on":"2015-09-18T15:17:00Z","details":[{"property":"attr","name":"assigned_to_id","old_value":"383"}]}]}}