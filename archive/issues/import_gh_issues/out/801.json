{"issue":{"id":801,"project":{"id":16,"name":"easySDI"},"tracker":{"id":3,"name":"Enhancement"},"status":{"id":10,"name":"Closed"},"priority":{"id":5,"name":"High"},"author":{"id":383,"name":"Blatti Yves"},"category":{"id":17,"name":"CATALOG"},"fixed_version":{"id":176,"name":"4.3.2"},"subject":"Extend file/upload stereotype to allow external URL","description":"We'd like to extend file the file (upload) stereotype to allow usage of external URLs.\r\nA user would choose if he uploads the file on easySDI *or* put a link to the resource.\r\n(Currently the stereotype only allows to upload the file on the system)\r\n\r\nReasons are:\r\n* We have attached files fields in our model that needs +upload+ *or* +external link+ (depending on the owner of the metadata usages)\r\n* Current stereotype usage may be unclear (due to it's layout) -> Simplify edit forms and increase readability\r\n* There is work to do on this stereotype anyway (#808 , #622)\r\n* Is Internet \"standard\" (many references uses a 'file popup' with options, gmail for instance)\r\n\r\nh2. Our proposal:\r\n\r\n* Have a \"one line\" stereotype containing:\r\n** existing URL if set (text field, disabled)\r\n** an 'attach file' button to open an 'attach file' popup (bootstrap appended button)\r\n** a link to open current URL (if it exists only, in a _blank target)\r\n* The file popup offers 2 tabs:\r\n** 1) Local file (upload)\r\n** 2) File on the internet (URL)\r\n* The presence of the tabs is configurable on relation in MD model (options: _upload_ , _url_ or _upload+url_)\r\n** To avoid change for existing clients, default value will be _upload_\r\n* Include URL testing (#894) for URLs (tab 2)\r\n** Test of link is done 'onChange' of the field BUT it does not avoid using the entered URL, this done for private/internal metadata, when the URL can point on an Intranet resource. The informative message is shown below the URL field with a green tick or a red cross depending on test result.\r\n* Fix #808 (Validation fails with stereotype \"file\"), validation will be easier since there will be only 1 field in form\r\n* Fix #622 (\"File\" stereotype :deletion of file, problem of relpicated MD)\r\n** Use solution N\u00b01 proposed in #622: \r\n*** (Solution 1 is choosen cause it does not need special actions for upgrade existing easySDI installations)\r\n*** Keep file storage and naming as in versions <= 4.3.0\r\n*** On replication : parse XML for \"locally attached items\", if found: duplicate the files with a new name, and replace the links\r\n*** On deletion of file node : if file is local (uploaded), remove file with node\r\n**** To identify local uploaded files we'll use a conjunction _linkedfilebaseurl_ (exposed in XML) and _linkedfilerepository_ (local base path) catalog configs\r\n\r\n\r\n\r\n\r\nh2. Mockups:\r\n\r\n!file_stereotype_enhancements_v2.png!","done_ratio":0,"custom_fields":[{"id":3,"name":"Sponsor","multiple":true,"value":["ASIT-VD (CH)","DEPTH Switzerland (CH)"]},{"id":4,"name":"Functional impact"},{"id":5,"name":"Ergonomic impact"}],"created_on":"2014-08-15T10:59:43Z","updated_on":"2015-06-30T11:45:19Z","closed_on":"2015-06-30T11:45:19Z","journals":[{"id":4776,"user":{"id":383,"name":"Blatti Yves"},"notes":"Updated description, mockup added","created_on":"2015-03-04T11:44:22Z","details":[{"property":"attachment","name":"814","new_value":"file_stereotype_enhancements.png"},{"property":"attachment","name":"815","new_value":"file_stereotype_enhancements_exp.png"},{"property":"attr","name":"tracker_id","old_value":"2","new_value":"3"},{"property":"attr","name":"description","old_value":"We'd like to extend file the file (upload) stereotype to allow usage of external URLs.\r\nA user would choose if he uploads the file on easySDI or put a link to the resource.\r\n(Currently the stereotype only allows to upload the file on the system)","new_value":"We'd like to extend file the file (upload) stereotype to allow usage of external URLs.\r\nA user would choose if he uploads the file on easySDI *or* put a link to the resource.\r\n(Currently the stereotype only allows to upload the file on the system)\r\n\r\nReasons are:\r\n* We have attached files fields in our model that needs +upload+ *or* +external link+ (depending on the owner of the metadata usages)\r\n* Current stereotype usage may be unclear (due to it's layout)\r\n* There is work to do on this stereotype anyway (#808 , #622)\r\n\r\nh2. Our proposal:\r\n\r\n* Have a \"one line\" stereotype containing:\r\n** existing URL if set\r\n** an 'attach file' button to open an 'attach file' popup\r\n** a link to open current URL if exists\r\n* The file popup offers 2 tabs:\r\n** 1) Local file (upload)\r\n** 2) File on theinternet (URL)\r\n* The presence of the tabs should be configurable on relation (options: _upload_ , _url_ or _upload+url_)\r\n\r\nh3. Pros:\r\n* Enhance the existing feature, but stays optional\r\n* Simplify edit forms and increase readability\r\n* Is Internet \"standard\" (many references uses a 'file popup' with options, gmail for instance)\r\n* Future enhancements could be added, like URL validations (HTTP headers)\r\n\r\nh3. Cons:\r\n* #622 is still not fixed, and we propose to use the 3rd option that was to disable file deletion.\r\n\r\nh2. Mockup:\r\n\r\n!file_stereotype_enhancements_exp.png!"},{"property":"attr","name":"status_id","old_value":"1","new_value":"7"},{"property":"attr","name":"assigned_to_id","new_value":"762"}]},{"id":4777,"user":{"id":383,"name":"Blatti Yves"},"notes":"","created_on":"2015-03-04T11:45:44Z","details":[{"property":"attachment","name":"814","old_value":"file_stereotype_enhancements.png"}]},{"id":4778,"user":{"id":383,"name":"Blatti Yves"},"notes":"","created_on":"2015-03-04T11:46:10Z","details":[{"property":"attr","name":"description","old_value":"We'd like to extend file the file (upload) stereotype to allow usage of external URLs.\r\nA user would choose if he uploads the file on easySDI *or* put a link to the resource.\r\n(Currently the stereotype only allows to upload the file on the system)\r\n\r\nReasons are:\r\n* We have attached files fields in our model that needs +upload+ *or* +external link+ (depending on the owner of the metadata usages)\r\n* Current stereotype usage may be unclear (due to it's layout)\r\n* There is work to do on this stereotype anyway (#808 , #622)\r\n\r\nh2. Our proposal:\r\n\r\n* Have a \"one line\" stereotype containing:\r\n** existing URL if set\r\n** an 'attach file' button to open an 'attach file' popup\r\n** a link to open current URL if exists\r\n* The file popup offers 2 tabs:\r\n** 1) Local file (upload)\r\n** 2) File on theinternet (URL)\r\n* The presence of the tabs should be configurable on relation (options: _upload_ , _url_ or _upload+url_)\r\n\r\nh3. Pros:\r\n* Enhance the existing feature, but stays optional\r\n* Simplify edit forms and increase readability\r\n* Is Internet \"standard\" (many references uses a 'file popup' with options, gmail for instance)\r\n* Future enhancements could be added, like URL validations (HTTP headers)\r\n\r\nh3. Cons:\r\n* #622 is still not fixed, and we propose to use the 3rd option that was to disable file deletion.\r\n\r\nh2. Mockup:\r\n\r\n!file_stereotype_enhancements_exp.png!","new_value":"We'd like to extend file the file (upload) stereotype to allow usage of external URLs.\r\nA user would choose if he uploads the file on easySDI *or* put a link to the resource.\r\n(Currently the stereotype only allows to upload the file on the system)\r\n\r\nReasons are:\r\n* We have attached files fields in our model that needs +upload+ *or* +external link+ (depending on the owner of the metadata usages)\r\n* Current stereotype usage may be unclear (due to it's layout)\r\n* There is work to do on this stereotype anyway (#808 , #622)\r\n\r\nh2. Our proposal:\r\n\r\n* Have a \"one line\" stereotype containing:\r\n** existing URL if set\r\n** an 'attach file' button to open an 'attach file' popup\r\n** a link to open current URL if exists\r\n* The file popup offers 2 tabs:\r\n** 1) Local file (upload)\r\n** 2) File on theinternet (URL)\r\n* The presence of the tabs should be configurable on relation (options: _upload_ , _url_ or _upload+url_)\r\n\r\nh3. Pros:\r\n\r\n* Enhance the existing feature, but stays optional\r\n* Simplify edit forms and increase readability\r\n* Is Internet \"standard\" (many references uses a 'file popup' with options, gmail for instance)\r\n* Future enhancements could be added, like URL validations (HTTP headers)\r\n\r\nh3. Cons:\r\n\r\n* #622 is still not fixed, and we propose to use the 3rd option that was to disable file deletion.\r\n\r\nh2. Mockup:\r\n\r\n!file_stereotype_enhancements_exp.png!"}]},{"id":4779,"user":{"id":383,"name":"Blatti Yves"},"notes":"","created_on":"2015-03-04T13:10:17Z","details":[{"property":"attr","name":"priority_id","old_value":"4","new_value":"5"}]},{"id":4848,"user":{"id":23,"name":"Van Hoecke H\u00e9l\u00e8ne "},"notes":"TC validates but requests for more detailed specifications.","created_on":"2015-03-06T08:42:52Z","details":[{"property":"attr","name":"assigned_to_id","old_value":"762","new_value":"3"}]},{"id":4946,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2015-03-06T22:04:39Z","details":[{"property":"attr","name":"status_id","old_value":"7","new_value":"9"},{"property":"attr","name":"assigned_to_id","old_value":"3"},{"property":"attr","name":"fixed_version_id","new_value":"114"}]},{"id":4969,"user":{"id":9,"name":"M\u00e9rour Xavier"},"notes":"","created_on":"2015-03-09T08:52:37Z","details":[{"property":"attr","name":"assigned_to_id","new_value":"383"}]},{"id":4989,"user":{"id":383,"name":"Blatti Yves"},"notes":"Updated specifications following TC request (1/2)","created_on":"2015-03-11T12:22:42Z","details":[{"property":"attr","name":"description","old_value":"We'd like to extend file the file (upload) stereotype to allow usage of external URLs.\r\nA user would choose if he uploads the file on easySDI *or* put a link to the resource.\r\n(Currently the stereotype only allows to upload the file on the system)\r\n\r\nReasons are:\r\n* We have attached files fields in our model that needs +upload+ *or* +external link+ (depending on the owner of the metadata usages)\r\n* Current stereotype usage may be unclear (due to it's layout)\r\n* There is work to do on this stereotype anyway (#808 , #622)\r\n\r\nh2. Our proposal:\r\n\r\n* Have a \"one line\" stereotype containing:\r\n** existing URL if set\r\n** an 'attach file' button to open an 'attach file' popup\r\n** a link to open current URL if exists\r\n* The file popup offers 2 tabs:\r\n** 1) Local file (upload)\r\n** 2) File on theinternet (URL)\r\n* The presence of the tabs should be configurable on relation (options: _upload_ , _url_ or _upload+url_)\r\n\r\nh3. Pros:\r\n\r\n* Enhance the existing feature, but stays optional\r\n* Simplify edit forms and increase readability\r\n* Is Internet \"standard\" (many references uses a 'file popup' with options, gmail for instance)\r\n* Future enhancements could be added, like URL validations (HTTP headers)\r\n\r\nh3. Cons:\r\n\r\n* #622 is still not fixed, and we propose to use the 3rd option that was to disable file deletion.\r\n\r\nh2. Mockup:\r\n\r\n!file_stereotype_enhancements_exp.png!","new_value":"We'd like to extend file the file (upload) stereotype to allow usage of external URLs.\r\nA user would choose if he uploads the file on easySDI *or* put a link to the resource.\r\n(Currently the stereotype only allows to upload the file on the system)\r\n\r\nReasons are:\r\n* We have attached files fields in our model that needs +upload+ *or* +external link+ (depending on the owner of the metadata usages)\r\n* Current stereotype usage may be unclear (due to it's layout) -> Simplify edit forms and increase readability\r\n* There is work to do on this stereotype anyway (#808 , #622)\r\n* Is Internet \"standard\" (many references uses a 'file popup' with options, gmail for instance)\r\n\r\nh2. Our proposal:\r\n\r\n* Have a \"one line\" stereotype containing:\r\n** existing URL if set\r\n** an 'attach file' button to open an 'attach file' popup\r\n** a link to open current URL (if it exists)\r\n* The file popup offers 2 tabs:\r\n** 1) Local file (upload)\r\n** 2) File on the internet (URL)\r\n* The presence of the tabs is configurable on relation in MD model (options: _upload_ , _url_ or _upload+url_)\r\n** To avoid change for existing clients, default value will be _upload_\r\n* Include URL validation (#894) for URLs (tab 2)\r\n* Fix #808 (Validation fails with stereotype \"file\"), validation will be easier since there will be only 1 field in form\r\n* Fix #622 (\"File\" stereotype :deletion of file, problem of relpicated MD)\r\n** Use solution N\u00b0 proposed in #622\r\n*** Keep file storage and naming as in versions <= 4.3.0\r\n*** On replication : parse XML for \"locally attached items\", if found, duplicate the files with a new name, and replace the links\r\n*** On deletion of node : if file local (uploaded), remove file with node\r\n**** To identify local uploaded files linkedfilebaseurl \r\n\r\nh3. Pros:\r\n\r\n* Fix #808 & #622\r\n* \r\n\r\n\r\nh2. Mockup:\r\n\r\n!file_stereotype_enhancements_exp.png!"}]},{"id":4990,"user":{"id":383,"name":"Blatti Yves"},"notes":"Updated specifications following TC request (2/2)","created_on":"2015-03-11T13:34:33Z","details":[{"property":"attr","name":"description","old_value":"We'd like to extend file the file (upload) stereotype to allow usage of external URLs.\r\nA user would choose if he uploads the file on easySDI *or* put a link to the resource.\r\n(Currently the stereotype only allows to upload the file on the system)\r\n\r\nReasons are:\r\n* We have attached files fields in our model that needs +upload+ *or* +external link+ (depending on the owner of the metadata usages)\r\n* Current stereotype usage may be unclear (due to it's layout) -> Simplify edit forms and increase readability\r\n* There is work to do on this stereotype anyway (#808 , #622)\r\n* Is Internet \"standard\" (many references uses a 'file popup' with options, gmail for instance)\r\n\r\nh2. Our proposal:\r\n\r\n* Have a \"one line\" stereotype containing:\r\n** existing URL if set\r\n** an 'attach file' button to open an 'attach file' popup\r\n** a link to open current URL (if it exists)\r\n* The file popup offers 2 tabs:\r\n** 1) Local file (upload)\r\n** 2) File on the internet (URL)\r\n* The presence of the tabs is configurable on relation in MD model (options: _upload_ , _url_ or _upload+url_)\r\n** To avoid change for existing clients, default value will be _upload_\r\n* Include URL validation (#894) for URLs (tab 2)\r\n* Fix #808 (Validation fails with stereotype \"file\"), validation will be easier since there will be only 1 field in form\r\n* Fix #622 (\"File\" stereotype :deletion of file, problem of relpicated MD)\r\n** Use solution N\u00b0 proposed in #622\r\n*** Keep file storage and naming as in versions <= 4.3.0\r\n*** On replication : parse XML for \"locally attached items\", if found, duplicate the files with a new name, and replace the links\r\n*** On deletion of node : if file local (uploaded), remove file with node\r\n**** To identify local uploaded files linkedfilebaseurl \r\n\r\nh3. Pros:\r\n\r\n* Fix #808 & #622\r\n* \r\n\r\n\r\nh2. Mockup:\r\n\r\n!file_stereotype_enhancements_exp.png!","new_value":"We'd like to extend file the file (upload) stereotype to allow usage of external URLs.\r\nA user would choose if he uploads the file on easySDI *or* put a link to the resource.\r\n(Currently the stereotype only allows to upload the file on the system)\r\n\r\nReasons are:\r\n* We have attached files fields in our model that needs +upload+ *or* +external link+ (depending on the owner of the metadata usages)\r\n* Current stereotype usage may be unclear (due to it's layout) -> Simplify edit forms and increase readability\r\n* There is work to do on this stereotype anyway (#808 , #622)\r\n* Is Internet \"standard\" (many references uses a 'file popup' with options, gmail for instance)\r\n\r\nh2. Our proposal:\r\n\r\n* Have a \"one line\" stereotype containing:\r\n** existing URL if set (not editable)\r\n** an 'attach file' button to open an 'attach file' popup (bootstrap appended button)\r\n** a link to open current URL (if it exists only, in a _blank target)\r\n* The file popup offers 2 tabs:\r\n** 1) Local file (upload)\r\n** 2) File on the internet (URL)\r\n* The presence of the tabs is configurable on relation in MD model (options: _upload_ , _url_ or _upload+url_)\r\n** To avoid change for existing clients, default value will be _upload_\r\n* Include URL testing (#894) for URLs (tab 2)\r\n** Test of link is done 'onChange' of the field BUT it does not avoid using the entered URL, this done for private/internal metadata, when the URL can point on an Intranet resource. The informative message is shown below the URL field with a green tick or a red cross depending on test result.\r\n* Fix #808 (Validation fails with stereotype \"file\"), validation will be easier since there will be only 1 field in form\r\n* Fix #622 (\"File\" stereotype :deletion of file, problem of relpicated MD)\r\n** Use solution N\u00b01 proposed in #622: \r\n*** (Solution 1 is choosen cause it does not need special actions for upgrade existing easySDI installations)\r\n*** Keep file storage and naming as in versions <= 4.3.0\r\n*** On replication : parse XML for \"locally attached items\", if found: duplicate the files with a new name, and replace the links\r\n*** On deletion of file node : if file is local (uploaded), remove file with node\r\n**** To identify local uploaded files we'll use a conjunction _linkedfilebaseurl_ (exposed in XML) and _linkedfilerepository_ (local base path) catalog configs\r\n\r\n\r\n\r\n\r\nh2. Mockups:\r\n\r\n!file_stereotype_enhancements_exp.png!"}]},{"id":4991,"user":{"id":383,"name":"Blatti Yves"},"notes":"update mockups","created_on":"2015-03-11T13:40:53Z","details":[{"property":"attachment","name":"832","new_value":"file_stereotype_enhancements_v2.png"},{"property":"attr","name":"description","old_value":"We'd like to extend file the file (upload) stereotype to allow usage of external URLs.\r\nA user would choose if he uploads the file on easySDI *or* put a link to the resource.\r\n(Currently the stereotype only allows to upload the file on the system)\r\n\r\nReasons are:\r\n* We have attached files fields in our model that needs +upload+ *or* +external link+ (depending on the owner of the metadata usages)\r\n* Current stereotype usage may be unclear (due to it's layout) -> Simplify edit forms and increase readability\r\n* There is work to do on this stereotype anyway (#808 , #622)\r\n* Is Internet \"standard\" (many references uses a 'file popup' with options, gmail for instance)\r\n\r\nh2. Our proposal:\r\n\r\n* Have a \"one line\" stereotype containing:\r\n** existing URL if set (not editable)\r\n** an 'attach file' button to open an 'attach file' popup (bootstrap appended button)\r\n** a link to open current URL (if it exists only, in a _blank target)\r\n* The file popup offers 2 tabs:\r\n** 1) Local file (upload)\r\n** 2) File on the internet (URL)\r\n* The presence of the tabs is configurable on relation in MD model (options: _upload_ , _url_ or _upload+url_)\r\n** To avoid change for existing clients, default value will be _upload_\r\n* Include URL testing (#894) for URLs (tab 2)\r\n** Test of link is done 'onChange' of the field BUT it does not avoid using the entered URL, this done for private/internal metadata, when the URL can point on an Intranet resource. The informative message is shown below the URL field with a green tick or a red cross depending on test result.\r\n* Fix #808 (Validation fails with stereotype \"file\"), validation will be easier since there will be only 1 field in form\r\n* Fix #622 (\"File\" stereotype :deletion of file, problem of relpicated MD)\r\n** Use solution N\u00b01 proposed in #622: \r\n*** (Solution 1 is choosen cause it does not need special actions for upgrade existing easySDI installations)\r\n*** Keep file storage and naming as in versions <= 4.3.0\r\n*** On replication : parse XML for \"locally attached items\", if found: duplicate the files with a new name, and replace the links\r\n*** On deletion of file node : if file is local (uploaded), remove file with node\r\n**** To identify local uploaded files we'll use a conjunction _linkedfilebaseurl_ (exposed in XML) and _linkedfilerepository_ (local base path) catalog configs\r\n\r\n\r\n\r\n\r\nh2. Mockups:\r\n\r\n!file_stereotype_enhancements_exp.png!","new_value":"We'd like to extend file the file (upload) stereotype to allow usage of external URLs.\r\nA user would choose if he uploads the file on easySDI *or* put a link to the resource.\r\n(Currently the stereotype only allows to upload the file on the system)\r\n\r\nReasons are:\r\n* We have attached files fields in our model that needs +upload+ *or* +external link+ (depending on the owner of the metadata usages)\r\n* Current stereotype usage may be unclear (due to it's layout) -> Simplify edit forms and increase readability\r\n* There is work to do on this stereotype anyway (#808 , #622)\r\n* Is Internet \"standard\" (many references uses a 'file popup' with options, gmail for instance)\r\n\r\nh2. Our proposal:\r\n\r\n* Have a \"one line\" stereotype containing:\r\n** existing URL if set (not editable)\r\n** an 'attach file' button to open an 'attach file' popup (bootstrap appended button)\r\n** a link to open current URL (if it exists only, in a _blank target)\r\n* The file popup offers 2 tabs:\r\n** 1) Local file (upload)\r\n** 2) File on the internet (URL)\r\n* The presence of the tabs is configurable on relation in MD model (options: _upload_ , _url_ or _upload+url_)\r\n** To avoid change for existing clients, default value will be _upload_\r\n* Include URL testing (#894) for URLs (tab 2)\r\n** Test of link is done 'onChange' of the field BUT it does not avoid using the entered URL, this done for private/internal metadata, when the URL can point on an Intranet resource. The informative message is shown below the URL field with a green tick or a red cross depending on test result.\r\n* Fix #808 (Validation fails with stereotype \"file\"), validation will be easier since there will be only 1 field in form\r\n* Fix #622 (\"File\" stereotype :deletion of file, problem of relpicated MD)\r\n** Use solution N\u00b01 proposed in #622: \r\n*** (Solution 1 is choosen cause it does not need special actions for upgrade existing easySDI installations)\r\n*** Keep file storage and naming as in versions <= 4.3.0\r\n*** On replication : parse XML for \"locally attached items\", if found: duplicate the files with a new name, and replace the links\r\n*** On deletion of file node : if file is local (uploaded), remove file with node\r\n**** To identify local uploaded files we'll use a conjunction _linkedfilebaseurl_ (exposed in XML) and _linkedfilerepository_ (local base path) catalog configs\r\n\r\n\r\n\r\n\r\nh2. Mockups:\r\n\r\n!file_stereotype_enhancements_v2.png!"}]},{"id":4992,"user":{"id":383,"name":"Blatti Yves"},"notes":"","created_on":"2015-03-11T13:41:02Z","details":[{"property":"attachment","name":"815","old_value":"file_stereotype_enhancements_exp.png"}]},{"id":4993,"user":{"id":383,"name":"Blatti Yves"},"notes":"","created_on":"2015-03-11T13:42:41Z","details":[{"property":"attr","name":"description","old_value":"We'd like to extend file the file (upload) stereotype to allow usage of external URLs.\r\nA user would choose if he uploads the file on easySDI *or* put a link to the resource.\r\n(Currently the stereotype only allows to upload the file on the system)\r\n\r\nReasons are:\r\n* We have attached files fields in our model that needs +upload+ *or* +external link+ (depending on the owner of the metadata usages)\r\n* Current stereotype usage may be unclear (due to it's layout) -> Simplify edit forms and increase readability\r\n* There is work to do on this stereotype anyway (#808 , #622)\r\n* Is Internet \"standard\" (many references uses a 'file popup' with options, gmail for instance)\r\n\r\nh2. Our proposal:\r\n\r\n* Have a \"one line\" stereotype containing:\r\n** existing URL if set (not editable)\r\n** an 'attach file' button to open an 'attach file' popup (bootstrap appended button)\r\n** a link to open current URL (if it exists only, in a _blank target)\r\n* The file popup offers 2 tabs:\r\n** 1) Local file (upload)\r\n** 2) File on the internet (URL)\r\n* The presence of the tabs is configurable on relation in MD model (options: _upload_ , _url_ or _upload+url_)\r\n** To avoid change for existing clients, default value will be _upload_\r\n* Include URL testing (#894) for URLs (tab 2)\r\n** Test of link is done 'onChange' of the field BUT it does not avoid using the entered URL, this done for private/internal metadata, when the URL can point on an Intranet resource. The informative message is shown below the URL field with a green tick or a red cross depending on test result.\r\n* Fix #808 (Validation fails with stereotype \"file\"), validation will be easier since there will be only 1 field in form\r\n* Fix #622 (\"File\" stereotype :deletion of file, problem of relpicated MD)\r\n** Use solution N\u00b01 proposed in #622: \r\n*** (Solution 1 is choosen cause it does not need special actions for upgrade existing easySDI installations)\r\n*** Keep file storage and naming as in versions <= 4.3.0\r\n*** On replication : parse XML for \"locally attached items\", if found: duplicate the files with a new name, and replace the links\r\n*** On deletion of file node : if file is local (uploaded), remove file with node\r\n**** To identify local uploaded files we'll use a conjunction _linkedfilebaseurl_ (exposed in XML) and _linkedfilerepository_ (local base path) catalog configs\r\n\r\n\r\n\r\n\r\nh2. Mockups:\r\n\r\n!file_stereotype_enhancements_v2.png!","new_value":"We'd like to extend file the file (upload) stereotype to allow usage of external URLs.\r\nA user would choose if he uploads the file on easySDI *or* put a link to the resource.\r\n(Currently the stereotype only allows to upload the file on the system)\r\n\r\nReasons are:\r\n* We have attached files fields in our model that needs +upload+ *or* +external link+ (depending on the owner of the metadata usages)\r\n* Current stereotype usage may be unclear (due to it's layout) -> Simplify edit forms and increase readability\r\n* There is work to do on this stereotype anyway (#808 , #622)\r\n* Is Internet \"standard\" (many references uses a 'file popup' with options, gmail for instance)\r\n\r\nh2. Our proposal:\r\n\r\n* Have a \"one line\" stereotype containing:\r\n** existing URL if set (text field, disabled)\r\n** an 'attach file' button to open an 'attach file' popup (bootstrap appended button)\r\n** a link to open current URL (if it exists only, in a _blank target)\r\n* The file popup offers 2 tabs:\r\n** 1) Local file (upload)\r\n** 2) File on the internet (URL)\r\n* The presence of the tabs is configurable on relation in MD model (options: _upload_ , _url_ or _upload+url_)\r\n** To avoid change for existing clients, default value will be _upload_\r\n* Include URL testing (#894) for URLs (tab 2)\r\n** Test of link is done 'onChange' of the field BUT it does not avoid using the entered URL, this done for private/internal metadata, when the URL can point on an Intranet resource. The informative message is shown below the URL field with a green tick or a red cross depending on test result.\r\n* Fix #808 (Validation fails with stereotype \"file\"), validation will be easier since there will be only 1 field in form\r\n* Fix #622 (\"File\" stereotype :deletion of file, problem of relpicated MD)\r\n** Use solution N\u00b01 proposed in #622: \r\n*** (Solution 1 is choosen cause it does not need special actions for upgrade existing easySDI installations)\r\n*** Keep file storage and naming as in versions <= 4.3.0\r\n*** On replication : parse XML for \"locally attached items\", if found: duplicate the files with a new name, and replace the links\r\n*** On deletion of file node : if file is local (uploaded), remove file with node\r\n**** To identify local uploaded files we'll use a conjunction _linkedfilebaseurl_ (exposed in XML) and _linkedfilerepository_ (local base path) catalog configs\r\n\r\n\r\n\r\n\r\nh2. Mockups:\r\n\r\n!file_stereotype_enhancements_v2.png!"}]},{"id":5039,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2015-03-13T14:25:46Z","details":[{"property":"relation","name":"relates","new_value":"808"}]},{"id":5041,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2015-03-13T14:25:56Z","details":[{"property":"relation","name":"relates","new_value":"622"}]},{"id":5048,"user":{"id":23,"name":"Van Hoecke H\u00e9l\u00e8ne "},"notes":"OK with me.","created_on":"2015-03-16T08:40:25Z","details":[]},{"id":5050,"user":{"id":787,"name":"Villemagne J\u00e9r\u00f4me"},"notes":"for me too","created_on":"2015-03-16T09:29:51Z","details":[]},{"id":5067,"user":{"id":9,"name":"M\u00e9rour Xavier"},"notes":"","created_on":"2015-03-18T06:54:42Z","details":[{"property":"attr","name":"status_id","old_value":"9","new_value":"2"},{"property":"attr","name":"assigned_to_id","old_value":"383","new_value":"3"}]},{"id":5082,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2015-03-18T08:03:18Z","details":[{"property":"cf","name":"3","new_value":"ASIT-VD (CH)"}]},{"id":5121,"user":{"id":3,"name":"Magoni Bruno"},"created_on":"2015-03-25T09:05:16Z","details":[{"property":"attr","name":"fixed_version_id","old_value":"114","new_value":"174"}]},{"id":5141,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2015-03-26T15:15:44Z","details":[{"property":"attr","name":"fixed_version_id","old_value":"174","new_value":"114"},{"property":"cf","name":"3","old_value":"ASIT-VD (CH)"}]},{"id":5147,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2015-03-26T15:21:26Z","details":[{"property":"attr","name":"status_id","old_value":"2","new_value":"8"}]},{"id":5274,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2015-04-17T10:03:48Z","details":[{"property":"attr","name":"status_id","old_value":"8","new_value":"2"},{"property":"attr","name":"assigned_to_id","old_value":"3","new_value":"787"},{"property":"attr","name":"fixed_version_id","old_value":"114","new_value":"176"},{"property":"cf","name":"3","new_value":"ASIT-VD (CH)"},{"property":"cf","name":"3","new_value":"DEPTH Switzerland (CH)"}]},{"id":5390,"user":{"id":761,"name":"Battaglia Marc"},"notes":"","created_on":"2015-05-18T14:33:24Z","details":[{"property":"attr","name":"status_id","old_value":"2","new_value":"3"},{"property":"attr","name":"assigned_to_id","old_value":"787","new_value":"761"}]},{"id":5714,"user":{"id":23,"name":"Van Hoecke H\u00e9l\u00e8ne "},"notes":"","created_on":"2015-06-30T11:45:19Z","details":[{"property":"attr","name":"status_id","old_value":"3","new_value":"10"},{"property":"attr","name":"assigned_to_id","old_value":"761"}]}]}}