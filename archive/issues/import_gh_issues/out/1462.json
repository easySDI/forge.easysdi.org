{"issue":{"id":1462,"project":{"id":16,"name":"easySDI"},"tracker":{"id":3,"name":"Enhancement"},"status":{"id":10,"name":"Closed"},"priority":{"id":4,"name":"Normal"},"author":{"id":383,"name":"Blatti Yves"},"assigned_to":{"id":383,"name":"Blatti Yves"},"category":{"id":33,"name":"EXTRACT"},"fixed_version":{"id":191,"name":"4.5.1"},"subject":"Manage an incorrect perimeter input","description":"*Description*\r\n\r\nModification on the easySDI v4 plugin.\r\nIf the user orders a data with a predefined perimeter (plot, common...) on an easySDI platform, EXTRACT is not able to manage the extraction because there is no associated geometry. The result is that:\r\n* Incorrect display in EXTRACT interfaces (no map, surface etc.)\r\n* A crash of tasks waiting for a geometry WKT (FME processing, etc.)\r\n\r\nThe distinction is made on the \"@type@\" attribute of the \"@perimeter@\" tag\r\n\r\n*Perimeter OK:*\r\n\r\nPerimeter type: \"coordinates\" -> OK can be imported without errors\r\n\r\n<pre>\r\n    <sdi:perimeter type=\"coordinates\" id=\"1\" alias=\"freeperimeter\" guid=\"f0d48c8e-ad5a-09f4-d1b0-dce7dfa544a9\">\r\n      <sdi:surface unit=\"m2\">1874219.75000000000000000000000000</sdi:surface>\r\n      <sdi:contents>\r\n        <sdi:content>POLYGON((6.556053540245442 46.5406858665773,6.564736227940287 46.552776494518355,6.579339266387595 46.54778277789993,6.57065411715828 46.53569326277157,6.556053540245442 46.5406858665773)</sdi:content>\r\n      </sdi:contents>\r\n    </sdi:perimeter>\r\n</pre>\r\n\r\n*Perimeter KO:*\r\n\r\nPerimeter type: \"values\" -> KO must be imported in error\r\n\r\n<pre>\r\n  <sdi:perimeter type=\"values\" id=\"4\" alias=\"COMMUNE\" guid=\"71ae448a-cfe4-f1f4-f597-ce2d7a0702bb\">\r\n     <sdi:surface unit=\"m2\">8568479.0000000000000000000000000000</sdi:surface>\r\n      <sdi:contents>\r\n        <sdi:content>348</sdi:content>\r\n        <sdi:content>312</sdi:content>\r\n      </sdi:contents>\r\n  </sdi:perimeter>\r\n</pre>\r\n\r\n*Expected behaviour :*\r\n\r\n* An element without a perimeter of type=\"coordinates\" should be imported in error, with a clear message and the possibility to cancel it (or delete it if connected as administrator, at the bottom of the screen, already implemented).\r\n* Message to the user: \"This element has no geographical scope, it cannot be processed.\"\r\n\r\nSource (french) : https://projets.asitvd.ch/issues/17755\r\n","start_date":"2018-11-20","done_ratio":100,"custom_fields":[{"id":3,"name":"Sponsor","multiple":true,"value":[]},{"id":4,"name":"Functional impact","value":"None"},{"id":5,"name":"Ergonomic impact","value":"In case of error, user have a feedback"}],"created_on":"2018-11-20T15:20:25Z","updated_on":"2019-03-18T14:58:33Z","closed_on":"2019-03-18T14:58:33Z","journals":[{"id":8422,"user":{"id":383,"name":"Blatti Yves"},"notes":"","created_on":"2019-03-18T07:55:00Z","details":[{"property":"cf","name":"4","old_value":"","new_value":"None"}]},{"id":8423,"user":{"id":383,"name":"Blatti Yves"},"created_on":"2019-03-18T07:55:12Z","details":[{"property":"attr","name":"status_id","old_value":"7","new_value":"9"}]},{"id":8428,"user":{"id":383,"name":"Blatti Yves"},"created_on":"2019-03-18T07:55:55Z","details":[{"property":"attr","name":"status_id","old_value":"9","new_value":"2"}]},{"id":8438,"user":{"id":383,"name":"Blatti Yves"},"created_on":"2019-03-18T07:56:28Z","details":[{"property":"attr","name":"assigned_to_id","old_value":"762","new_value":"383"}]},{"id":8448,"user":{"id":383,"name":"Blatti Yves"},"created_on":"2019-03-18T07:57:07Z","details":[{"property":"attr","name":"status_id","old_value":"2","new_value":"3"}]},{"id":8459,"user":{"id":383,"name":"Blatti Yves"},"created_on":"2019-03-18T07:57:59Z","details":[{"property":"attr","name":"status_id","old_value":"3","new_value":"12"}]},{"id":8473,"user":{"id":383,"name":"Blatti Yves"},"created_on":"2019-03-18T11:06:26Z","details":[{"property":"attr","name":"done_ratio","old_value":"0","new_value":"100"}]},{"id":8488,"user":{"id":383,"name":"Blatti Yves"},"created_on":"2019-03-18T14:58:33Z","details":[{"property":"attr","name":"status_id","old_value":"12","new_value":"10"}]}]}}