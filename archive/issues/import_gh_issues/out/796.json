{"issue":{"id":796,"project":{"id":16,"name":"easySDI"},"tracker":{"id":1,"name":"Defect"},"status":{"id":10,"name":"Closed"},"priority":{"id":4,"name":"Normal"},"author":{"id":383,"name":"Blatti Yves"},"category":{"id":17,"name":"CATALOG"},"fixed_version":{"id":159,"name":"4.2.0"},"subject":"Stereotype geographic extent stores database ids intestead of \"codes\"","description":"Related to #721:\r\nStereotype geographic extent stores database ids instead of \"codes\".\r\nIn V2, there was a \"multilingual identifier\", we used to store national (OFS) identifiers.\r\n\r\nh2. V4\r\n\r\n<pre>\r\n<code class=\"xml\">\r\n        <gmd:extent>\r\n          <gmd:EX_Extent>\r\n            <sdi:extentType>\r\n              <gco:CharacterString>commune</gco:CharacterString>\r\n            </sdi:extentType>\r\n            <gmd:description>\r\n              <gco:CharacterString>Apples</gco:CharacterString>\r\n            </gmd:description>\r\n            <gmd:geographicElement>\r\n              <gmd:EX_GeographicBoundingBox>\r\n                <gmd:extentTypeCode>\r\n                  <gco:Boolean>true</gco:Boolean>\r\n                </gmd:extentTypeCode>\r\n                <gmd:northBoundLatitude>\r\n                  <gco:Decimal>46.579213</gco:Decimal>\r\n                </gmd:northBoundLatitude>\r\n                <gmd:southBoundLatitude>\r\n                  <gco:Decimal>46.531578</gco:Decimal>\r\n                </gmd:southBoundLatitude>\r\n                <gmd:eastBoundLongitude>\r\n                  <gco:Decimal>6.447233</gco:Decimal>\r\n                </gmd:eastBoundLongitude>\r\n                <gmd:westBoundLongitude>\r\n                  <gco:Decimal>6.387222</gco:Decimal>\r\n                </gmd:westBoundLongitude>\r\n              </gmd:EX_GeographicBoundingBox>\r\n            </gmd:geographicElement>\r\n            <gmd:geographicElement>\r\n              <gmd:EX_GeographicDescription>\r\n                <gmd:extentTypeCode>\r\n                  <gco:Boolean>true</gco:Boolean>\r\n                </gmd:extentTypeCode>\r\n                <gmd:geographicIdentifier>\r\n                  <gmd:MD_Identifier>\r\n                    <gmd:code>\r\n                      <!-- this is the database id -->\r\n                      <gco:CharacterString>239</gco:CharacterString>\r\n                    </gmd:code>\r\n                  </gmd:MD_Identifier>\r\n                </gmd:geographicIdentifier>\r\n              </gmd:EX_GeographicDescription>\r\n            </gmd:geographicElement>\r\n          </gmd:EX_Extent>\r\n        </gmd:extent>\r\n</code>\r\n</pre>\r\n\r\n\r\nh2. V2\r\n\r\n<pre>\r\n<code class=\"xml\">\r\n        <gmd:extent>\r\n          <gmd:EX_Extent>\r\n            <sdi:extentType>\r\n              <gco:CharacterString>commune</gco:CharacterString>\r\n            </sdi:extentType>\r\n            <gmd:description>\r\n              <gco:CharacterString>Morges</gco:CharacterString>\r\n            </gmd:description>\r\n            <gmd:geographicElement>\r\n              <gmd:EX_GeographicBoundingBox>\r\n                <gmd:extentTypeCode>true</gmd:extentTypeCode>\r\n                <gmd:northBoundLatitude>\r\n                  <gco:Decimal>46.52375</gco:Decimal>\r\n                </gmd:northBoundLatitude>\r\n                <gmd:southBoundLatitude>\r\n                  <gco:Decimal>46.501043</gco:Decimal>\r\n                </gmd:southBoundLatitude>\r\n                <gmd:eastBoundLongitude>\r\n                  <gco:Decimal>6.513332</gco:Decimal>\r\n                </gmd:eastBoundLongitude>\r\n                <gmd:westBoundLongitude>\r\n                  <gco:Decimal>6.47649</gco:Decimal>\r\n                </gmd:westBoundLongitude>\r\n              </gmd:EX_GeographicBoundingBox>\r\n            </gmd:geographicElement>\r\n            <gmd:geographicElement>\r\n              <gmd:EX_GeographicDescription>\r\n                <gmd:extentTypeCode>\r\n                  <gco:Boolean>true</gco:Boolean>\r\n                </gmd:extentTypeCode>\r\n                <gmd:geographicIdentifier>\r\n                  <gmd:MD_Identifier>\r\n                    <gmd:code>\r\n                      <!-- this is the database id -->\r\n                      <gco:CharacterString>5642</gco:CharacterString>\r\n                    </gmd:code>\r\n                  </gmd:MD_Identifier>\r\n                </gmd:geographicIdentifier>\r\n              </gmd:EX_GeographicDescription>\r\n            </gmd:geographicElement>\r\n          </gmd:EX_Extent>\r\n        </gmd:extent>\r\n</code>\r\n</pre>\r\n\r\nI don't have a MultiLingual easySDI install, but I suppose that MD_Identifier should use the PT_FreeText mechanism in case of multilingual MD.\r\n\r\nI attached GM03 and iso screenshots of EX_Extent UML fragment, it seems that V2 behavior was right.","start_date":"2014-08-13","done_ratio":100,"custom_fields":[{"id":2,"name":"Affected version","value":"159"}],"created_on":"2014-08-13T07:40:07Z","updated_on":"2015-09-18T15:17:02Z","closed_on":"2014-09-02T08:28:16Z","journals":[{"id":3984,"user":{"id":383,"name":"Blatti Yves"},"notes":"Woops, I cannot edit my issue , but the comment in the v2 XML fragment is wrong. Erratum:\r\n<pre>\r\n                    <gmd:code>\r\n                      <!-- this is the internationalized code (not the database id!) -->\r\n                      <gco:CharacterString>5642</gco:CharacterString>\r\n                    </gmd:code>\r\n</pre>","created_on":"2014-08-13T07:42:37Z","details":[]},{"id":4065,"user":{"id":761,"name":"Battaglia Marc"},"notes":"To comply with the standard, we must change the stereotype as follows:\r\n\r\n<pre>\r\n<gmd:extent>\r\n  <gmd:EX_Extent>\r\n\t<sdi:extentType>\r\n\t  <gco:CharacterString>commune</gco:CharacterString>\r\n\t</sdi:extentType>\r\n\t<gmd:description>\r\n\t  <gco:CharacterString>Apples</gco:CharacterString>\r\n\t  ==========================\r\n\t  <gmd:PT_FreeText>\r\n\t  <gmd:textGroup>\r\n\t\t<gmd:LocalisedCharacterString locale=\"#DE\" />\r\n\t  </gmd:textGroup>\r\n\t  </gmd:PT_FreeText>\r\n\t  ==========================\r\n\t</gmd:description>\r\n\t<gmd:geographicElement>\r\n\t  <gmd:EX_GeographicBoundingBox>\r\n\t\t<gmd:extentTypeCode>\r\n\t\t  <gco:Boolean>true</gco:Boolean>\r\n\t\t</gmd:extentTypeCode>\r\n\t\t<gmd:northBoundLatitude>\r\n\t\t  <gco:Decimal>46.579213</gco:Decimal>\r\n\t\t</gmd:northBoundLatitude>\r\n\t\t<gmd:southBoundLatitude>\r\n\t\t  <gco:Decimal>46.531578</gco:Decimal>\r\n\t\t</gmd:southBoundLatitude>\r\n\t\t<gmd:eastBoundLongitude>\r\n\t\t  <gco:Decimal>6.447233</gco:Decimal>\r\n\t\t</gmd:eastBoundLongitude>\r\n\t\t<gmd:westBoundLongitude>\r\n\t\t  <gco:Decimal>6.387222</gco:Decimal>\r\n\t\t</gmd:westBoundLongitude>\r\n\t  </gmd:EX_GeographicBoundingBox>\r\n\t</gmd:geographicElement>\r\n\t===========================\r\n\t<!-- This node is optional. If the node description is empty, it should not appear.-->\r\n\t===========================\r\n\t<gmd:geographicElement>\r\n\t  <gmd:EX_GeographicDescription>\r\n\t\t<gmd:extentTypeCode>\r\n\t\t  <gco:Boolean>true</gco:Boolean>\r\n\t\t</gmd:extentTypeCode>\r\n\t\t<gmd:geographicIdentifier>\r\n\t\t  <gmd:MD_Identifier>\r\n\t\t\t<gmd:code>\r\n\t\t\t  ===========================\r\n\t\t\t  <!-- this is the internationalized code (not the database id!) -->\r\n\t\t\t  ===========================\r\n\t\t\t  <gco:CharacterString>239</gco:CharacterString>\r\n\t\t\t  ==========================\r\n\t\t\t  <gmd:PT_FreeText>\r\n\t\t\t  <gmd:textGroup>\r\n\t\t\t\t<gmd:LocalisedCharacterString locale=\"#DE\" />\r\n\t\t\t  </gmd:textGroup>\r\n\t\t\t  </gmd:PT_FreeText>\r\n\t\t\t  ==========================\r\n\t\t\t</gmd:code>\r\n\t\t  </gmd:MD_Identifier>\r\n\t\t</gmd:geographicIdentifier>\r\n\t  </gmd:EX_GeographicDescription>\r\n\t</gmd:geographicElement>\r\n  </gmd:EX_Extent>\r\n</gmd:extent>\r\n</pre>\r\n\r\n","created_on":"2014-08-28T13:18:45Z","details":[]},{"id":4066,"user":{"id":383,"name":"Blatti Yves"},"notes":"But only for multi lingual metadata ? Like other stereotypes ? ","created_on":"2014-08-28T13:57:52Z","details":[]},{"id":4071,"user":{"id":761,"name":"Battaglia Marc"},"notes":"","created_on":"2014-09-02T08:27:41Z","details":[{"property":"attr","name":"status_id","old_value":"1","new_value":"2"},{"property":"attr","name":"assigned_to_id","new_value":"761"},{"property":"attr","name":"fixed_version_id","new_value":"157"}]},{"id":4072,"user":{"id":761,"name":"Battaglia Marc"},"notes":"","created_on":"2014-09-02T08:28:06Z","details":[{"property":"attr","name":"status_id","old_value":"2","new_value":"3"},{"property":"attr","name":"assigned_to_id","old_value":"761","new_value":"383"}]},{"id":4073,"user":{"id":761,"name":"Battaglia Marc"},"notes":"","created_on":"2014-09-02T08:28:16Z","details":[{"property":"attr","name":"status_id","old_value":"3","new_value":"10"},{"property":"attr","name":"done_ratio","old_value":"0","new_value":"100"}]},{"id":4464,"user":{"id":3,"name":"Magoni Bruno"},"created_on":"2014-12-12T16:02:00Z","details":[{"property":"attr","name":"fixed_version_id","old_value":"157","new_value":"159"}]},{"id":4498,"user":{"id":3,"name":"Magoni Bruno"},"created_on":"2014-12-12T16:05:30Z","details":[{"property":"cf","name":"2","old_value":"155","new_value":"159"}]},{"id":6320,"user":{"id":23,"name":"Van Hoecke H\u00e9l\u00e8ne "},"created_on":"2015-09-18T15:17:02Z","details":[{"property":"attr","name":"assigned_to_id","old_value":"383"}]}]}}