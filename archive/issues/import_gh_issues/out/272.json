{"issue":{"id":272,"project":{"id":16,"name":"easySDI"},"tracker":{"id":2,"name":"Feature"},"status":{"id":6,"name":"Rejected"},"priority":{"id":4,"name":"Normal"},"author":{"id":182,"name":"Kihlberg Jesper"},"category":{"id":21,"name":"MONITOR"},"subject":"Save and view most recent request response.","description":"A \"show request\" page showing the resulting image/web page for each of the requests attached to a job. The last response should be stored in the database.\r\nIt should be possible to select if the request should be stored.","start_date":"2011-01-03","done_ratio":100,"custom_fields":[{"id":3,"name":"Sponsor","multiple":true,"value":[]},{"id":4,"name":"Functional impact"},{"id":5,"name":"Ergonomic impact"}],"created_on":"2011-01-03T10:08:01Z","updated_on":"2016-02-03T15:09:31Z","closed_on":"2016-02-03T15:09:31Z","journals":[{"id":688,"user":{"id":182,"name":"Kihlberg Jesper"},"notes":"On the \"Jobs\" page, under \"Advanced params\" a checkbox should be added, that allows users to enable saving of the latest request result. See attached file \"monitor save response 1.png\"\r\nA new page should be added called \"Response overview\" this page shows an overview of all Jobs and Request that have \"save latest request\" enabled. The page shows a thumbnail and when clicked, the full response should be shown. (in another window?)","created_on":"2011-01-03T13:15:49Z","details":[{"property":"attachment","name":"257","new_value":"monitor_save_response_1.PNG"},{"property":"attachment","name":"258","new_value":"monitor_save_response_2.PNG"}]},{"id":710,"user":{"id":173,"name":"Larsen de Martino Jorgen"},"notes":"It should be possible to create multible pages of \"Response overview\" and define the content of each page and define if the page is to be public or pass word protected. Each \"Response overview\" page should have a unique URL in order to be able to publish the \"Response overview\" page on a website. \nOn the user interface this could be done by adding af dropdown menu where the user can either choose a \"Response overview\" page or choose to create a new \"Response overview\" page.\n\nThe \"Response overview\" page should contain the following information for each request:\n\nWMS\n* Name (the bold headline on screendump)\n* Service name\n* Picture\n* Size in KB\n* Norm size in KB\n* Delivery time\n* Norm time\n\nWFS\n* Name (the bold headline on screendump)\n* Service name\n* XML output\n* Found output\n* Norm output\n* Delivery time\n* Norm time\n\nSoap address service\n* Name (the bold headline on screendump)\n* Service name\n* text output\n* Found output\n* Norm output\n* Delivery time\n* Norm time\n\nIn addition there should be alert colours if norm time, norm size, norm output, picture or XML output is not within acceptable limits.\n\nResponsetime(WMS, WFS, WMTS, Soap)\nYellow if response time > 10% of specified limit\n\nResponse size(WMS and WMTS)\nRed if > or < 10% of specified norm size\n\nXML and text(WFS and SOAP)\nRed if not equal to specified norm output\n\n","created_on":"2011-01-04T15:16:16Z","details":[{"property":"attachment","name":"259","new_value":"screen_1_xml_output.jpg"},{"property":"attachment","name":"260","new_value":"screen_2_picture_output.jpg"},{"property":"attachment","name":"261","new_value":"screen_3_text_output_soap_service.jpg"}]},{"id":725,"user":{"id":173,"name":"Larsen de Martino Jorgen"},"notes":"","created_on":"2011-01-05T09:34:23Z","details":[{"property":"attachment","name":"262","new_value":"Monitor_save_response_overview_page.jpg"}]},{"id":773,"user":{"id":195,"name":"Bergstedt Thomas"},"notes":"Have uploaded a image over a suggest for the changes to be made in the Monitor database. \nThis is done for supporting the suggest new response overview page.\n\n3 new tables added and a relation to the queries table. This gives the option for creating a page with a overview of different queries for different jobs. The table \"last_query_results\" holds the last request result values for a query added to a overview page. ","created_on":"2011-01-11T13:02:01Z","details":[{"property":"attachment","name":"269","new_value":"Monitor_DB_Changes.JPG"}]},{"id":856,"user":{"id":198,"name":"Bodtkjer Morten"},"notes":"To make it possible to create multiple pages of \"response overview\", the user interface design must be modified.\r\n\r\nThe attached file illustrates a user interface design which reflects this enhancement.","created_on":"2011-01-27T10:11:31Z","details":[{"property":"attachment","name":"296","new_value":"ResponseOverviewMultiplePages.png"}]},{"id":977,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2011-02-17T14:15:56Z","details":[{"property":"attr","name":"status_id","old_value":"1","new_value":"7"}]},{"id":985,"user":{"id":3,"name":"Magoni Bruno"},"notes":"As described, the response overview is only accessible in Joomla back-end interface.\r\nShould it be accessible in front-end interface as a Joomla module or a plugin for specific users?\r\n","created_on":"2011-02-17T16:16:38Z","details":[]},{"id":986,"user":{"id":9,"name":"M\u00e9rour Xavier"},"notes":"To follow Bruno's remark, it would be interested indeed to have front-end access of responses if we want to show results for public consultation or for specific users (identified users in Joomla!). ","created_on":"2011-02-17T16:21:07Z","details":[]},{"id":990,"user":{"id":9,"name":"M\u00e9rour Xavier"},"notes":"Question :\r\n\r\nhow do manage a job with multiple resquests (for example two GetMap) ?\r\nwill you display two block of overview or one with both image and related details (responsatime, size,...) ?\r\n\r\n","created_on":"2011-02-17T16:42:21Z","details":[]},{"id":1003,"user":{"id":195,"name":"Bergstedt Thomas"},"notes":"The idea behind this new tab is that you from a list of queries can add them to a overviewpage that you creates.\r\n\r\nIf you have (two GetMap requests) for the same job you can added one or them both to the overviewpages that you want them to be on. For eash request there would be a block with image and related detailes (responsetime, size,...).\r\n","created_on":"2011-02-24T13:04:06Z","details":[{"property":"attachment","name":"328","new_value":"Changes_to_the_Monitor_DB.JPG"}]},{"id":1004,"user":{"id":195,"name":"Bergstedt Thomas"},"notes":"","created_on":"2011-02-24T13:06:05Z","details":[{"property":"attachment","name":"329","new_value":"Monitor_EDIT.JPG"}]},{"id":1005,"user":{"id":195,"name":"Bergstedt Thomas"},"notes":"","created_on":"2011-02-24T13:07:39Z","details":[{"property":"attachment","name":"330","new_value":"Monitor_view.JPG"}]},{"id":1006,"user":{"id":9,"name":"M\u00e9rour Xavier"},"notes":"OK Thomas, very nice feature. \r\n\r\nI go for it :-)","created_on":"2011-02-24T13:12:10Z","details":[]},{"id":1024,"user":{"id":3,"name":"Magoni Bruno"},"notes":"I have only one recommendation about Response overview pages which should be accessed by non authenticated user (public user) and authenticated user (in front end).\nA new MONITOR *Joomla module* must be developed where the Joomla Administrator can define which Response overview page(s) is(are) displayed. With this way, Response Overview pages can be integrated in the CMS and attached to any menu item.\n","created_on":"2011-03-14T17:47:23Z","details":[]},{"id":1025,"user":{"id":3,"name":"Magoni Bruno"},"notes":"EasySDI Steering Committee vote is opened...\r\n","created_on":"2011-03-14T17:47:52Z","details":[]},{"id":1036,"user":{"id":3,"name":"Magoni Bruno"},"notes":"Hello Jorgen,\r\n\r\nThis issue has been validated by EasySDI Steering Committee (3 pros / 0 cons).\r\nI let you validate the final result with Morten.\r\n\r\nThanks","created_on":"2011-03-15T16:49:57Z","details":[{"property":"attr","name":"status_id","old_value":"7","new_value":"2"},{"property":"attr","name":"assigned_to_id","old_value":"3","new_value":"173"}]},{"id":1060,"user":{"id":195,"name":"Bergstedt Thomas"},"notes":"","created_on":"2011-03-24T08:11:13Z","details":[{"property":"attr","name":"assigned_to_id","old_value":"173","new_value":"195"}]},{"id":1065,"user":{"id":195,"name":"Bergstedt Thomas"},"notes":"The changes for this issue have been commit.\r\n\r\n1) java servlet.\r\nUpdated db_dump_mysql.sql  (Monitor_db_changes.JPG) \r\nUpdated Monitor_log and deegree service interface.\r\nNew rest services for overviews and updates of the exist services.\r\nNew fil \"image-config.properties\" for imagesettings (request url and savepath). (Future create rest imagehandler, so that image only needs to be save in database).\r\n\r\n\r\n2) joomla interface\r\nNew menutab for creating/modifying last request overview pages. (Response overview tab.JPG)\r\n\r\nUpdated advanced job settings and updated request settings.\r\n\r\nNew \"Overview.php\" page not integrated in joomla public interface. (Overview_php.JPG)\r\nFuture needs to be integrated in the joomla public part where none public page should have password protection and public pages should be listed) A new MONITOR Joomla module as Bruno Magoni describes. \r\n\r\nThe check save response in the jobs advanced settings must be checked for allowing last request to be showed in response overview menu and the right image config must be set. ","created_on":"2011-03-24T13:56:48Z","details":[{"property":"attr","name":"status_id","old_value":"2","new_value":"3"},{"property":"attr","name":"done_ratio","old_value":"0","new_value":"100"}]},{"id":1066,"user":{"id":195,"name":"Bergstedt Thomas"},"notes":"","created_on":"2011-03-24T13:57:59Z","details":[{"property":"attachment","name":"342","new_value":"Monitor_db_changes.JPG"},{"property":"attachment","name":"343","new_value":"Response_overview_tab.JPG"},{"property":"attachment","name":"344","new_value":"Overview_php.JPG"}]},{"id":1107,"user":{"id":3,"name":"Magoni Bruno"},"notes":"Thanks Thomas,\r\n\r\nHere is my feedback about source code and architecture. Thanks for your answers to my questions (in italic).\r\n\r\n*Java servlet*\r\n* database changes OK\r\n* monitor and deegree inetrface OK\r\n* new rest services OK\r\n* New fil \"image-config.properties\" for imagesettings: I will add a new issue about it but <pre>does it mean that image-config.properties file won't be used anymore as no more image will be stored on disk files?; is it possible for you to update the MONITOR wiki about how to configure new image-config.properties file?</pre>\r\n* Gui: I will drive french translation of Monitor_fr.properties and Monitor_fr.properties.utf8 files in trunk/src/org/easysdi/monitor/gui/i18n directory\r\n\r\n*Joomla interface*\r\n* New menutab for creating/modifying last request overview pages OK\r\n* Updated advanced job settings and updated request settings OK\r\n* New \"Overview.php\" page not integrated in joomla public interface: I will add a new issue about it<pre>could you please explain in MONITOR wiki the related changes to CheckAccess.php and proxy.php files; it is important to describe which kind of changes must be made to be able to run MONITOR</pre>\r\n* The check save response in the jobs advanced settings must be checked for allowing last request to be showed in response overview menu and the right image config must be set OK\r\n* GUI: I will drive french translation of fr-FR.com_easysdi_monitor.ini file in trunk/com_easysdi_monitor/language/admin directory","created_on":"2011-04-12T13:27:52Z","details":[]},{"id":1115,"user":{"id":195,"name":"Bergstedt Thomas"},"notes":"The images are store on the disk for now, but in the design for ticket http://forge.easysdi.org/issues/show/274 a rest image handler would be made, so that images only would be stored in the database and not saved to the disk.\n\nThe wiki text for the joomle interface could be\n\n*Deploying the external overviewpage*\nDeploy the files from the folder \"Public_overview_site\" into the root of the Joomla.\n\nIn the \"overviewpage.js\" change the variable \"proxy_url\" \nIt is default set to\n\"/administrator/components/com_easysdi_monitor/views/main/tmpl/proxy.php?proxy_url=\"\n\nThe \"proxy.php\" file located in the folder \"/administrator/components/com_easysdi_monitor/views/main/tmpl/\" is only used for the external overviewpage.\nChange the $monitorUrl to get access for the tomcat rest services it is default set to\n\"http:/\".\"/localhost:8080/Monitor\";\n\n(Optional)\nThe \"CheckAccess.php\" is used when an overviewpage in the monitor module is not made public, so that only users in the monitor database can get access to this page. \nThe monitor database settings must be changes in this file for getting a connection.\n\nThe wiki text for monitor servlet could be\n\n*Image-config settings*\nIn the java monitor you specify the image settings in the file \"image-config.properties\".\nSet a folder path to somewhere in the PHP server for saving the images into. (Remember to give write access)\n \n* imagefolderLocal=C:\\\\xampp\\\\htdocs\\\\monitor\\\\img\\\\\n\nSet a URL path for this image folder \n* imageFolderUrlPath=http://localhost/monitor/img/\n","created_on":"2011-04-13T13:58:12Z","details":[]},{"id":1183,"user":{"id":3,"name":"Magoni Bruno"},"notes":"As discussed with Jorgen, the overview pages is not integrated inside Joomla CMS but should be (see #note-14).\r\nFor now it is suggested to wait until Joomla 1.6 issue gets fixed or as soon as new MONITOR release is ready to be built.\r\nIn the worst case, the folder \"Public_overview_site\" must be thrown out from the source code repository and corresponding web interface adapted not to call it... (wait & see)\r\n","created_on":"2011-05-04T14:25:25Z","details":[{"property":"attr","name":"assigned_to_id","old_value":"195","new_value":"173"}]},{"id":1184,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2011-05-04T14:27:01Z","details":[{"property":"attr","name":"status_id","old_value":"3","new_value":"2"}]},{"id":2069,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2012-03-30T14:05:02Z","details":[{"property":"attr","name":"fixed_version_id","new_value":"49"}]},{"id":2584,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2013-12-20T14:35:56Z","details":[{"property":"attr","name":"project_id","old_value":"10","new_value":"16"},{"property":"attr","name":"fixed_version_id","old_value":"49"}]},{"id":2585,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2013-12-20T14:36:07Z","details":[{"property":"attr","name":"category_id","new_value":"21"},{"property":"attr","name":"fixed_version_id","new_value":"114"}]},{"id":3772,"user":{"id":3,"name":"Magoni Bruno"},"created_on":"2014-07-17T19:07:41Z","details":[{"property":"attr","name":"fixed_version_id","old_value":"114"}]},{"id":3775,"user":{"id":3,"name":"Magoni Bruno"},"created_on":"2014-07-17T19:07:56Z","details":[{"property":"attr","name":"status_id","old_value":"2","new_value":"1"}]},{"id":7181,"user":{"id":9,"name":"M\u00e9rour Xavier"},"notes":"This is an old and very specific ticket & the community plans to make a large MONITOR refactoring.\r\n\r\nTherefore, this ticket is rejected.","created_on":"2016-02-03T15:09:31Z","details":[{"property":"attr","name":"status_id","old_value":"1","new_value":"6"},{"property":"attr","name":"assigned_to_id","old_value":"173"}]}]}}