{"issue":{"id":679,"project":{"id":16,"name":"easySDI"},"tracker":{"id":1,"name":"Defect"},"status":{"id":10,"name":"Closed"},"priority":{"id":4,"name":"Normal"},"author":{"id":383,"name":"Blatti Yves"},"category":{"id":17,"name":"CATALOG"},"subject":"Import/Replication features doesn't work if SEF is not enabled","description":"In metadata edition, import/replication features only work if SEF links are enabled.\r\n\r\nMy local install does not use SEF links, and when I try to use the replication feature for example, AJAX queries don't work.\r\nFor example, the replication form tries to POST on @index.php?metadata.searchresource@ ,\r\nI tried with SEF and the it posted correctly to @/component/easysdi_catalog/?metadata.searchresource@\r\n\r\nI *suppose* the problem comes from the @currentUrl@ var in @administrator/components/com_easysdi_core/libraries/easysdi/catalog/editMetadata.js@\r\nOn line 2 We see \r\n<pre>\r\nvar currentUrl = location.protocol + '//' + location.host + location.pathname;\r\n</pre>\r\nThis var is used in multiple AJAX methods, the problem is that it won't reflex context (component etc...) on a non SEF enabled Joomla.\r\n\r\nFor example: @function searchResource(task)@ (line 235) POST data to @url: currentUrl + '?' + task@\r\n","done_ratio":0,"custom_fields":[{"id":2,"name":"Affected version","value":"138"}],"created_on":"2014-04-11T09:27:12Z","updated_on":"2016-02-19T10:35:42Z","closed_on":"2016-02-19T10:35:42Z","journals":[{"id":3134,"user":{"id":383,"name":"Blatti Yves"},"notes":"","created_on":"2014-04-11T11:56:12Z","details":[{"property":"attr","name":"subject","old_value":"Import/Replication features doesn't if SEF is not enabled","new_value":"Import/Replication features doesn't work if SEF is not enabled"}]},{"id":3167,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2014-04-25T16:14:58Z","details":[{"property":"attr","name":"fixed_version_id","new_value":"114"}]},{"id":3820,"user":{"id":3,"name":"Magoni Bruno"},"created_on":"2014-07-17T19:17:55Z","details":[{"property":"attr","name":"fixed_version_id","old_value":"114"}]},{"id":7160,"user":{"id":383,"name":"Blatti Yves"},"notes":"I think that there's a lot things that doesn't work without SEF....\r\nShouldn't we just make it a prerequisite in doc ?","created_on":"2016-02-03T14:05:46Z","details":[{"property":"attr","name":"status_id","old_value":"1","new_value":"2"},{"property":"attr","name":"assigned_to_id","new_value":"762"}]},{"id":7236,"user":{"id":383,"name":"Blatti Yves"},"notes":"This has been in the meantime","created_on":"2016-02-19T10:34:08Z","details":[{"property":"attr","name":"status_id","old_value":"2","new_value":"3"}]},{"id":7237,"user":{"id":23,"name":"Van Hoecke H\u00e9l\u00e8ne "},"notes":"","created_on":"2016-02-19T10:35:42Z","details":[{"property":"attr","name":"status_id","old_value":"3","new_value":"10"},{"property":"attr","name":"assigned_to_id","old_value":"762"}]}]}}