{"issue":{"id":221,"project":{"id":16,"name":"easySDI"},"tracker":{"id":2,"name":"Feature"},"status":{"id":10,"name":"Closed"},"priority":{"id":4,"name":"Normal"},"author":{"id":9,"name":"M\u00e9rour Xavier"},"category":{"id":15,"name":"PROXY"},"fixed_version":{"id":113,"name":"3.0.0"},"subject":"Log size in question / refactor log logic","description":"All requests passing through the PROXY are logged in a text file. It contains many information like user, requestTime, RequestLenght, Pre- and PostTreatment, remote address, querystring,...\r\n\r\nThese are usefull information to make statistics and follow services use.\r\n\r\nBUT it needs a lot of storage ressources : we had for example a 300 Mo log file some days ago.\r\n\r\nWe should consider differents options to redure/optimize log size, like :\r\n\r\n- reduce information stored in logs\r\n- have a less verbose logs structure\r\n- compress/aggregate logs\r\n- do not logs some user for instance (admin(monitor users...)\r\n- log only certain type of logEntry (INFO, ERROR, DEBUG, SYSTEM)\r\n\r\nto discuss...\r\n\r\n\r\n\r\n","start_date":"2010-10-05","done_ratio":100,"custom_fields":[{"id":3,"name":"Sponsor","multiple":true,"value":[]},{"id":4,"name":"Functional impact"},{"id":5,"name":"Ergonomic impact"}],"created_on":"2010-10-05T07:46:03Z","updated_on":"2014-04-04T13:20:44Z","closed_on":"2014-04-04T13:20:44Z","journals":[{"id":632,"user":{"id":9,"name":"M\u00e9rour Xavier"},"notes":"We could also imagine having an option for each proxy instance with log=tue or log=false.\r\nIf set to \"false\" by the administrator, no log are computed, saving data storage and speeding up a bit the PROXY.","created_on":"2010-11-05T10:39:52Z","details":[]},{"id":737,"user":{"id":9,"name":"M\u00e9rour Xavier"},"notes":"","created_on":"2011-01-06T10:01:14Z","details":[{"property":"attr","name":"fixed_version_id","new_value":"65"}]},{"id":1071,"user":{"id":9,"name":"M\u00e9rour Xavier"},"notes":"The proposal is to add log verbosity options in PROXY backend with the following options :\r\n\r\n- silent logging -> no log at all\r\n- minimal logging -> only <LogRequest> nodes are stored (\"see log structure description\":http://forge.easysdi.org/wiki/proxy/Logs#3)\r\n- informative logging -> only SYSTEM type of logEntries are stored\r\n- debug logging -> all type of logs are stored (ERROR, SYTEM, INFO, DEBUG)\r\n\r\nThese options are definable \"per connector\" (WMS, WMTS, WFS,...).\r\n\r\nBruno, can you add/correct any relevant information about this issue ?","created_on":"2011-03-25T17:41:32Z","details":[{"property":"attr","name":"assigned_to_id","new_value":"3"}]},{"id":1072,"user":{"id":9,"name":"M\u00e9rour Xavier"},"notes":"I also found some redundant information : \r\n\"RemoteResponseToRequestUrl\" type in SYSTEM log is the addition of \"RemoteRequestUrl\" and \"RemoteRequest\"\r\nIs there any good reason to have it ?\r\n\r\nOtherwise, I am not sure to see the difference between \"DEBUG\" and \"INFO\" logEntries (there is maybe a good reason...). We may \"merge\" them in a single logEntry type, no ? ","created_on":"2011-03-25T17:41:46Z","details":[]},{"id":1142,"user":{"id":9,"name":"M\u00e9rour Xavier"},"notes":"Finally, log verbosity option will be definable per config (and not per connector).","created_on":"2011-04-15T14:22:05Z","details":[]},{"id":1682,"user":{"id":9,"name":"M\u00e9rour Xavier"},"notes":"Can be closed as it as been resolved with ticket #451 (PROXY 2.2.0)\r\n\r\nThanks.","created_on":"2011-08-16T11:08:12Z","details":[]},{"id":1683,"user":{"id":3,"name":"Magoni Bruno"},"notes":"Hello,\r\nI preconised not to close this task for now as adding log4j support is a transitory step before removing definitively old EasySDI proprietary logs.\r\nI prefer keeping a trace of this before closing current ticket.\r\n\r\nThanks for your feedback.\r\n","created_on":"2011-08-18T07:29:50Z","details":[{"property":"attr","name":"status_id","old_value":"1","new_value":"9"}]},{"id":1684,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2011-08-18T07:29:58Z","details":[{"property":"attr","name":"status_id","old_value":"9","new_value":"2"}]},{"id":1687,"user":{"id":9,"name":"M\u00e9rour Xavier"},"notes":"Fine with me !","created_on":"2011-08-18T07:35:00Z","details":[]},{"id":1874,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2011-11-28T16:10:02Z","details":[{"property":"attr","name":"assigned_to_id","old_value":"3"}]},{"id":2064,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2012-03-30T13:50:59Z","details":[{"property":"attr","name":"status_id","old_value":"2","new_value":"1"}]},{"id":2065,"user":{"id":3,"name":"Magoni Bruno"},"notes":"I propose that to close this feature with PROXY migration on Joomla 2.5.\r\nIf so, decision not tu support anymore EasySDI logs with PROXY V3.0should be validated by Steering Commitee.","created_on":"2012-03-30T13:53:31Z","details":[{"property":"attr","name":"status_id","old_value":"1","new_value":"9"}]},{"id":2066,"user":{"id":3,"name":"Magoni Bruno"},"notes":"+1","created_on":"2012-03-30T13:54:43Z","details":[{"property":"attr","name":"fixed_version_id","old_value":"65","new_value":"99"}]},{"id":2067,"user":{"id":9,"name":"M\u00e9rour Xavier"},"notes":"+1","created_on":"2012-03-30T13:56:36Z","details":[]},{"id":2199,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2012-07-19T13:20:08Z","details":[{"property":"attr","name":"status_id","old_value":"9","new_value":"2"}]},{"id":2200,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2012-07-19T13:20:23Z","details":[{"property":"attr","name":"status_id","old_value":"2","new_value":"3"},{"property":"attr","name":"done_ratio","old_value":"0","new_value":"100"}]},{"id":2242,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2012-09-20T15:50:22Z","details":[{"property":"attr","name":"status_id","old_value":"3","new_value":"12"},{"property":"attr","name":"fixed_version_id","old_value":"99"}]},{"id":2243,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2012-09-20T15:51:03Z","details":[{"property":"attr","name":"project_id","old_value":"3","new_value":"16"}]},{"id":2244,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2012-09-20T15:51:19Z","details":[{"property":"attr","name":"category_id","new_value":"15"},{"property":"attr","name":"fixed_version_id","new_value":"113"}]},{"id":3022,"user":{"id":3,"name":"Magoni Bruno"},"created_on":"2014-04-04T13:20:44Z","details":[{"property":"attr","name":"status_id","old_value":"12","new_value":"10"}]}]}}