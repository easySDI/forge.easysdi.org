{"issue":{"id":1172,"project":{"id":16,"name":"easySDI"},"tracker":{"id":1,"name":"Defect"},"status":{"id":10,"name":"Closed"},"priority":{"id":5,"name":"High"},"author":{"id":383,"name":"Blatti Yves"},"category":{"id":12,"name":"CORE"},"fixed_version":{"id":176,"name":"4.3.2"},"subject":"getting easySDI user with wrong ID","description":"Revision 9169 changed @sdiUser->getUserById($sdiId)@ to use a Joomla user ID instead of easySDI user ID.\r\n\r\nI have checked and it seems to be wrong. There's two ways of getting an easySDI user from an easySDI user ID:\r\n * new sdiUser($anID)\r\n * sdiFactory::getSdiUser($anID)\r\n\r\nThen I checked the code:\r\n\r\n*new sdiUser($anID) :*\r\neasysdi\\com_easysdi_catalog\\src\\site\\controllers\\metadata.php lines 849 + 850 (use easySDI id)\r\neasysdi\\com_easysdi_shop\\src\\site\\controllers\\order.php line 185 (use easySDI id)\r\neasysdi\\com_easysdi_shop\\src\\site\\models\\order.php line 93 (use easySDI id)\r\n\r\n*getSdiUser($anID) :*\r\neasysdi\\com_easysdi_shop\\src\\site\\controllers\\basket.php line 279 (use easySDI id)\r\neasysdi\\com_easysdi_shop\\src\\site\\controllers\\extract.php line 461 (use easySDI id)\r\neasysdi\\com_easysdi_shop\\src\\site\\controllers\\order.php lines 67 + 136 (use easySDI id)\r\neasysdi\\com_easysdi_shop\\src\\site\\helpers\\easysdi_shop.php lines 1172 + 1198 + 1237 (use easySDI id)\r\neasysdi\\com_easysdi_shop\\src\\site\\models\\request.php line 77 (use easySDI id)\r\neasysdi\\com_easysdi_shop\\src\\site\\views\\order\\view.html.php line 43 (use easySDI id)\r\neasysdi\\com_easysdi_shop\\src\\site\\libraries\\easysdi\\sdiBasket.php lines 76 (use easySDI id)\r\n\r\nSo using a Joomla ID seems to be an error.\r\nWe have to correct it in sdiUser class + \r\neasysdi\\com_easysdi_shop\\src\\site\\controllers\\download.php line 97  (use Joomla id)\r\n\r\nI found the error in the other direction here:\r\nC:\\projets-ybi\\easysdi4dev\\joomla\\easysdi\\com_easysdi_shop\\src\\site\\libraries\\easysdi\\sdiBasket.php lines 127 \r\n@$ex->created_by = sdiFactory::getSdiUser($extraction->created_by)->name;@ -> (use easySDI id => Should use Joomla Id I think)\r\n\r\nOnce both have been corrected, we sould be good.\r\n","start_date":"2015-11-04","done_ratio":100,"custom_fields":[{"id":2,"name":"Affected version","value":"176"}],"created_on":"2015-11-04T11:02:32Z","updated_on":"2015-11-13T14:52:13Z","closed_on":"2015-11-13T14:39:27Z","journals":[{"id":6619,"user":{"id":383,"name":"Blatti Yves"},"notes":"rev. 9182","created_on":"2015-11-05T10:07:39Z","details":[{"property":"attr","name":"status_id","old_value":"2","new_value":"3"},{"property":"attr","name":"done_ratio","old_value":"0","new_value":"100"}]},{"id":6687,"user":{"id":383,"name":"Blatti Yves"},"notes":"","created_on":"2015-11-13T14:21:04Z","details":[{"property":"attr","name":"status_id","old_value":"3","new_value":"12"},{"property":"attr","name":"assigned_to_id","old_value":"383","new_value":"23"}]},{"id":6698,"user":{"id":23,"name":"Van Hoecke H\u00e9l\u00e8ne "},"created_on":"2015-11-13T14:39:27Z","details":[{"property":"attr","name":"status_id","old_value":"12","new_value":"10"}]},{"id":6711,"user":{"id":23,"name":"Van Hoecke H\u00e9l\u00e8ne "},"created_on":"2015-11-13T14:41:30Z","details":[{"property":"attr","name":"fixed_version_id","new_value":"176"}]},{"id":6739,"user":{"id":23,"name":"Van Hoecke H\u00e9l\u00e8ne "},"created_on":"2015-11-13T14:52:13Z","details":[{"property":"attr","name":"assigned_to_id","old_value":"23"}]}]}}