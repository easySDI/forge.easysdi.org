{"issue":{"id":687,"project":{"id":16,"name":"easySDI"},"tracker":{"id":1,"name":"Defect"},"status":{"id":10,"name":"Closed"},"priority":{"id":5,"name":"High"},"author":{"id":383,"name":"Blatti Yves"},"category":{"id":17,"name":"CATALOG"},"fixed_version":{"id":142,"name":"4.1.0"},"subject":"Misuse of IDs in catalog","description":"Following #685, I found other misuses of IDs in catalog (metadata).\r\n\r\n* in @components\\com_easysdi_catalog\\views\\metadata\\view.html.php@\r\nin getActionToolbar() and getTopActionBar() , a version id is compared to a metadata ID in queries.\r\n\r\n* _authorize_ function of _sdiUser_ class is used instead of _authorizeOnMetadata_\r\n(authorize parameter 0 is a resource ID, authorizeOnMetadata parameter 0 is a metadata id)\r\nin @components\\com_easysdi_catalog\\views\\metadata\\view.html.php@ L:145,152,162\r\nin @components\\com_easysdi_catalog\\libraries\\easysdi\\FormGenerator.php@ L:304\r\n\r\n\r\n","done_ratio":0,"custom_fields":[{"id":2,"name":"Affected version","value":"143"}],"created_on":"2014-04-17T07:40:35Z","updated_on":"2015-09-18T15:18:11Z","closed_on":"2014-05-18T17:09:53Z","journals":[{"id":3159,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2014-04-25T15:52:52Z","details":[{"property":"attr","name":"assigned_to_id","new_value":"761"},{"property":"attr","name":"fixed_version_id","new_value":"144"}]},{"id":3160,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2014-04-25T15:53:06Z","details":[{"property":"attr","name":"status_id","old_value":"1","new_value":"2"}]},{"id":3182,"user":{"id":3,"name":"Magoni Bruno"},"created_on":"2014-04-25T17:27:20Z","details":[{"property":"attr","name":"fixed_version_id","old_value":"144","new_value":"142"}]},{"id":3191,"user":{"id":383,"name":"Blatti Yves"},"notes":"in sansbox: /easysdi/sandboxes/asit-vd/4.0.2/joomla/easysdi/com_easysdi_catalog","created_on":"2014-04-28T10:25:27Z","details":[]},{"id":3272,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2014-05-18T17:09:47Z","details":[{"property":"attr","name":"status_id","old_value":"2","new_value":"3"}]},{"id":3273,"user":{"id":3,"name":"Magoni Bruno"},"notes":"","created_on":"2014-05-18T17:09:53Z","details":[{"property":"attr","name":"status_id","old_value":"3","new_value":"10"}]},{"id":6370,"user":{"id":23,"name":"Van Hoecke H\u00e9l\u00e8ne "},"created_on":"2015-09-18T15:18:11Z","details":[{"property":"attr","name":"assigned_to_id","old_value":"761"}]}]}}