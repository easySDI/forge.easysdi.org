{
    "issue": {
        "closed": true,
        "title": "SQL review",
        "created_at": "2014-09-12T09:04:46Z",
        "labels": [
            "Enhancement",
            "Redmine status : Rejected"
        ],
        "body": "**Original author :** Villemagne J\u00e9r\u00f4me\n\nSQL files should be review to be more concistent.\r\n*First reflexion was done on mysql : it must be completed and done on other db too.*\r\n\r\nI suggest that each 'CREATE TABLE':\r\n* is preceded by a DROP TABLE ;\r\n* defines its ENGINE ;\r\n* defines its COLLATE ;\r\n* define its CHARSET ;\r\n* have COMMENT to describe its utility (and its options if necessary) ;\r\n* _column_definition_ can override the default table charset\/collate (*add a comment on that column to explain the reason*) ;\r\n* _key_definition_ should at least define the PRIMARY_KEY ;\r\n* ON DELETE\/UPDATE have to be defined for each FOREIGN KEY (current behavior must be reviewed)\r\n\r\nQuestions:\r\n* need INDEX\/CONSTRAINT to be defined in the _install_ or _alter_ file ?\r\n"
    },
    "comments": [
        {
            "body": "**Original author :** Villemagne J\u00e9r\u00f4me\n\nAll SQL files must be located in com_easysdi_core ; it seems that some old files still exist in other components... \r\n\r\nthe review should include a complete cleaning",
            "created_at": "2014-09-17T12:18:16Z"
        },
        {
            "body": "**Original author :** Villemagne J\u00e9r\u00f4me\n\non MySQL, coming from old install, it seems that some(many) constraints have an autogenerated name which can't be used in any statement.\r\nthis constraints should be altered in order to their names reflect the ones given in install script.\r\n\r\nDo we have a reflexion on the constraint name ? (open question)\r\n=> actually, for the foreign key, the constraint name is _tblname_fkX_ (where X is an incremented int)\r\nAltering some constraint name, I would suggest to have this reflexion and propose the following structured name : _tableName_fieldName_fk_refTableName_refFieldName_",
            "created_at": "2014-10-03T10:49:54Z"
        },
        {
            "body": "**Original author :** Van Hoecke H\u00e9l\u00e8ne \n\nTC has reject this as an enhacement.\r\n\r\n",
            "created_at": "2015-05-07T13:03:53Z"
        }
    ]
}